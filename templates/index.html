{% extends "base.html" %}

{% block content %}
<div class="auth-wrapper">
    <div class="auth-card">
        <h2 id="form-title">Login</h2>
        
        <!-- Login Form -->
        <form id="login-form" method="POST" class="active-form">
            <input type="hidden" name="action" value="login">
            <div class="input-group">
                <input type="text" name="username" placeholder="Username" required>
            </div>
            <div class="input-group">
                <input type="password" name="password" placeholder="Password" required>
            </div>
            <button type="submit" class="btn-primary">Login</button>
            
            <div class="auth-options">
                <button type="button" class="btn-secondary" onclick="showRegister()">Register</button>
                <button type="button" class="btn-admin" onclick="showAdminLogin()">Login as Admin</button>
            </div>
        </form>

        <!-- Register Form -->
        <form id="register-form" method="POST" class="hidden-form">
            <input type="hidden" name="action" value="register">
            <div class="input-group">
                <input type="text" name="username" placeholder="Choose Username" required>
            </div>
            <div class="input-group">
                <input type="password" name="password" placeholder="Choose Password" required>
            </div>
            <button type="submit" class="btn-secondary">Create Account</button>
            
            <div class="auth-options">
                <button type="button" class="btn-link" onclick="showLogin()">Back to Login</button>
            </div>
        </form>

        <!-- Admin Login Form -->
        <form id="admin-form" method="POST" class="hidden-form">
            <input type="hidden" name="action" value="admin_login">
            <div class="input-group">
                <input type="text" name="username" placeholder="Admin Username" required>
            </div>
            <div class="input-group">
                <input type="password" name="password" placeholder="Admin Password" required>
            </div>
            <button type="submit" class="btn-admin">Login as Admin</button>
            
            <div class="auth-options">
                <button type="button" class="btn-link" onclick="showLogin()">Back to Login</button>
            </div>
        </form>
    </div>
</div>

<script>
    function showLogin() {
        hideAll();
        document.getElementById('login-form').classList.add('active-form');
        document.getElementById('form-title').innerText = 'Login';
    }

    function showRegister() {
        hideAll();
        document.getElementById('register-form').classList.add('active-form');
        document.getElementById('form-title').innerText = 'Register';
    }

    function showAdminLogin() {
        hideAll();
        document.getElementById('admin-form').classList.add('active-form');
        document.getElementById('form-title').innerText = 'Admin Login';
    }

    function hideAll() {
        document.querySelectorAll('form').forEach(form => {
            form.classList.remove('active-form');
            form.classList.add('hidden-form');
        });
    }
</script>
{% endblock %}
